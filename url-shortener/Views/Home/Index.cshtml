@{
    ViewData["Title"] = "Url Shortener";
}

<div class="grid">
    <div class="head-intro">
        <h1>Hey, you!</h1> 
        <h2>Need a memorable URL?</h2>
    </div>
    <div class="input-box">
        <form action="/" method="post" class="form-inline">
            <div class="input-group mb-3">
                <input type="text" name="url" class="form-control url-input" placeholder="https://www.google.com">
                <div class="input-group-append">
                    <button type="submit" class="input-group-btn btn btn-primary" id="basic-addon2">Shorten!</button>
                </div>
            </div>
        </form>
    </div>
    <div class="result-box">
        @{
        if (TempData.TryGetValue("shortened", out var url))
        {
            <div class="alert alert-success success-panel" role="alert">
                <h4 class="alert-heading">You did it!</h4>
                <p>Your new human-readable url is:</p>
                <p class="new-link"><a id ="short-url" href="@url.ToString()" target="_blank" class="alert-link">@url.ToString()</a></p>
                <hr>
                <button id="copy-button" type="button" class="btn btn-light">Copy</button>
            </div>
    }
    else if (TempData.TryGetValue("error", out var err))
    {
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            @err.ToString()
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
}
        }
    </div>
    <div></div>
</div>
