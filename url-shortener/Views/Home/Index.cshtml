@{
    ViewData["Title"] = "Url Shortener";
}

<div class="grid">
    <div class="head-intro">
        Hey, you! Need a memorable URL?
    </div>
    <div class="input-box">
        <form action="/" method="post" class="form-inline">
            <div class="input-group mb-3">
                <input type="text" name="url" class="form-control" placeholder="https://www.google.com">
                <div class="input-group-append">
                    <button type="submit" class="input-group-btn btn btn-primary" id="basic-addon2">Shorten!</button>
                </div>
            </div>
        </form>
    </div>
    <div class="result-box">
        @{
            if (TempData.TryGetValue("shortened", out var url))
            {
                <div class="alert alert-success alert-dismissible fade show" role="alert">
                    You did it! Your new shortened URL is: <a href="@url.ToString()" target="_blank" class="alert-link">@url.ToString()</a>
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            }
            else if (TempData.TryGetValue("error", out var err))
            {
                <div class="alert alert-warning alert-dismissible fade show" role="alert">
                    @err.ToString()
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            }
        }
    </div>
    <div></div>
</div>
